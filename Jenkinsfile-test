pipeline {
    agent {label 'maven'}
    
    stages {
        stage ('Compile stage') {

            steps {
               withMaven(maven : 'maven360') {
                sh 'mvn clean compile'
            }    
        }
    }

stage ('Package stage') {
    steps {
        withMaven(maven : 'maven360') {
        sh 'mvn package'
        }
    }
}
stage ('Deployment Stage') {
    steps {
        withMaven(maven : 'maven360') {
        sh 'mvn deploy'    
        }
    }
}
}
}
